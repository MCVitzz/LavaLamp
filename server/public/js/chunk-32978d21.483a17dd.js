(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-32978d21"],{"34a2":function(e,t,n){},"384a":function(e,t,n){"use strict";n("ab02")},"3b41":function(e,t,n){},"498a":function(e,t,n){"use strict";var r=n("23e7"),a=n("58a8").trim,s=n("c8d2");r({target:"String",proto:!0,forced:s("trim")},{trim:function(){return a(this)}})},"4de4":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").filter,s=n("1dde"),o=n("ae40"),i=s("filter"),c=o("filter");r({target:"Array",proto:!0,forced:!i||!c},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},"4f29":function(e,t,n){"use strict";n("b830")},"4f95":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("button",{on:{click:e.click}},[n("FontAwesome",{attrs:{icon:e.icon}}),n("span",[e._v(e._s(e.text))])],1)},a=[],s={name:"IconTextButton",props:["icon","text"],methods:{click:function(e){this.$emit("click",e)}}},o=s,i=(n("d1ea"),n("2877")),c=Object(i["a"])(o,r,a,!1,null,"5d17ad53",null);t["a"]=c.exports},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),a=n("5899"),s="["+a+"]",o=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),c=function(e){return function(t){var n=String(r(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(i,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"5e5f":function(e,t,n){"use strict";n("9e7b")},"5ffd":function(e,t,n){"use strict";n("3b41")},"74ce":function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"field dialog-container",on:{click:e.expand}},[e.expanded?n("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:e.collapse,expression:"collapse"}],staticClass:"dialog"},[n("Textbox",{staticClass:"search-box",attrs:{icon:"search",placeholder:"Search"},on:{keyUp:e.search}}),e._l(e.options,(function(t,r){return n("p",{key:r,staticClass:"dialog-item",on:{click:function(t){return e.changedVal(r)}}},[e._v(" "+e._s(t.firstName)+" "+e._s(t.lastName)+" ")])}))],2):e._e(),n("p",{staticClass:"selected-item"},[e._v(e._s(e.val&&""!=e.val?e.val:" "))])])},a=[],s=(n("99af"),n("4de4"),n("7db0"),n("c975"),n("498a"),n("6b75"));function o(e){if(Array.isArray(e))return Object(s["a"])(e)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function i(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}var c=n("06c5");function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){return o(e)||i(e)||Object(c["a"])(e)||u()}n("96cf");var d=n("1da1"),f=n("fe5a"),p=n("fe4b"),h={name:"SelectUserComponent",components:{Textbox:p["a"]},props:{value:{},changed:Function,editable:{type:Boolean,default:!0}},data:function(){return{val:"",expanded:!1,options:[],fullContent:[]}},methods:{getData:function(){var e=Object(d["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].getAllUsers();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),expand:function(){this.editable&&(this.expanded=!0)},collapse:function(){this.editable&&(this.expanded=!1)},changedVal:function(e){var t=this.options[e];this.val="".concat(t.firstName," ").concat(t.lastName),this.collapse(),this.changed(t.id)},search:function(e){var t=e.target.value;""!=t.trim()?(this.options=this.fullContent.filter((function(e){return e.firstName.toLowerCase().indexOf(t.toLowerCase())>-1})),console.log(this.options)):this.options=l(this.fullContent)},adjustValue:function(){var e=this;if(this.value){var t=this.fullContent.find((function(t){return t.id==e.value}));this.val="".concat(t.firstName," ").concat(t.lastName)}},empty:function(){this.val=""}},created:function(){var e=this;return Object(d["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:e.fullContent=t.sent,e.val=e.value,e.options=l(e.fullContent),e.adjustValue();case 6:case"end":return t.stop()}}),t)})))()}},m=h,v=(n("5e5f"),n("2877")),g=Object(v["a"])(m,r,a,!1,null,"47ffe8fc",null);t["a"]=g.exports},"7db0":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").find,s=n("44d2"),o=n("ae40"),i="find",c=!0,u=o(i);i in[]&&Array(1)[i]((function(){c=!1})),r({target:"Array",proto:!0,forced:c||!u},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s(i)},"9b3e":function(e,t,n){"use strict";n("e405")},"9e7b":function(e,t,n){},a443:function(e,t,n){"use strict";n("e7f3")},ab02:function(e,t,n){},b830:function(e,t,n){},c8d2:function(e,t,n){var r=n("d039"),a=n("5899"),s="​᠎";e.exports=function(e){return r((function(){return!!a[e]()||s[e]()!=s||a[e].name!==e}))}},d1ea:function(e,t,n){"use strict";n("34a2")},d207:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex"},[n("Textbox",{ref:"txt",staticClass:"full-row",attrs:{value:e.value,placeholder:e.placeholder},on:{focus:e.toggleButton,blur:e.toggleButton,keyUp:e.keyUp}}),n("transition",{attrs:{duration:1e3,name:"slide"}},[e.isActive?n("div",{staticClass:"btn-primary",on:{click:e.click}},[e._v(" "+e._s(e.text)+" ")]):e._e()])],1)},a=[],s=n("fe4b"),o={name:"InputWithButton",data:function(){return{isActive:!1}},props:["text","value","placeholder"],methods:{toggleButton:function(){this.isActive=!this.isActive},click:function(e){this.$emit("buttonClick",e)},keyUp:function(e){this.$emit("keyUp",e)},empty:function(){this.$refs.txt.empty()},getValue:function(){return this.$refs.txt.getValue()}},components:{Textbox:s["a"]}},i=o,c=(n("5ffd"),n("2877")),u=Object(c["a"])(i,r,a,!1,null,"c7d10cdc",null);t["a"]=u.exports},e405:function(e,t,n){},e7f3:function(e,t,n){},eb1f:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ModuleViewComponent")},a=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop:options",value:e.options,expression:"options",arg:"options"}],staticClass:"container"},[n("div",{staticClass:"add-button"},[n("IconTextButton",{attrs:{icon:"plus",text:"Add Module"},on:{click:e.addModule}})],1),e._l(e.modules,(function(t,r){return n("div",{key:r,staticClass:"module-container",attrs:{"aria-key":t.id}},[n("Collapsible",{attrs:{value:!t.collapsed},on:{changed:function(n){return e.changedCollapse(t,n)}},scopedSlots:e._u([{key:"summary",fn:function(){return[n("TextboxClickToEdit",{ref:"module",refInFor:!0,staticClass:"module-title",attrs:{value:t.title},on:{changed:function(n){return e.changed(t,n)}}}),n("IconButton",{staticClass:"delete-button",attrs:{icon:"trash-alt"},on:{click:function(n){return e.deleteModule(t)}}})]},proxy:!0},{key:"details",fn:function(){return[n("TaskViewComponent",{ref:"module "+t.id,refInFor:!0,staticClass:"tasks-container",attrs:{module:t.id}})]},proxy:!0}],null,!0)})],1)}))],2)},o=[],i=(n("96cf"),n("1da1")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"summary"},[n("IconButton",{staticClass:"button",attrs:{color:"white",icon:e.getIcon()},on:{click:e.toggle}}),n("div",{staticClass:"summary-item"},[e._t("summary")],2)],1),e.expanded?e._t("details"):e._e()],2)},u=[],l=n("47d0"),d={name:"Collapsible",components:{IconButton:l["a"]},props:["value"],data:function(){return{expanded:!1}},methods:{toggle:function(){this.expanded=!this.expanded,this.$emit("changed",this.expanded)},getIcon:function(){return this.expanded?"chevron-down":"chevron-right"}},created:function(){this.value&&(this.expanded=this.value)}},f=d,p=(n("a443"),n("2877")),h=Object(p["a"])(f,c,u,!1,null,"ced03058",null),m=h.exports,v=n("e93b"),g=n("4f95"),b=n("d4ec"),x=n("bee2"),k=n("bc3a"),w=n.n(k),y="/api/modules",C=function(){function e(){Object(b["a"])(this,e)}return Object(x["a"])(e,null,[{key:"getAllModules",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(y);case 3:if(t=e.sent,n=t.data,"No Modules."==n){e.next=7;break}return e.abrupt("return",n);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"addModule",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post(y,{title:t,collapsed:!0});case 3:if(n=e.sent,200!=n.status){e.next=8;break}return e.abrupt("return","OK");case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateModule",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.put("".concat(y,"/").concat(t.id),t);case 3:if(n=e.sent,200!=n.status){e.next=8;break}return e.abrupt("return","OK");case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteModule",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.delete("".concat(y,"/").concat(t.id));case 3:if(n=e.sent,200!=n.status){e.next=8;break}return e.abrupt("return","OK");case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),T=C,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tasks-container"},[n("div",{staticClass:"task-list"},[n("Grid",{attrs:{properties:e.properties,content:e.content},on:{changed:e.changed},scopedSlots:e._u([{key:"custom",fn:function(e){var t=e.changedFunction,r=e.value;return[n("SelectUserComponent",{attrs:{changed:t,value:r}})]}},{key:"default",fn:function(t){var r=t.item;return[n("TaskDetailComponent",{attrs:{stateButton:e.newStateButton,task:r},on:{changed:e.changed,deleted:e.deleteClick,stateChange:e.changeState}})]}}])})],1),n("InputWithButton",{ref:"txtAddTask",staticClass:"input",attrs:{text:"Add",placeholder:"+ Add"},on:{buttonClick:e.addTask,keyUp:e.txtKeyUp}})],1)},O=[],_=(n("99af"),n("aa24")),j=n("062a"),D=n("74ce"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail-container"},[n("AddressFinder",{staticClass:"address-finder",attrs:{address:e.task.address},on:{changed:e.changeAddress}}),n("IconTextButton",{staticClass:"button",attrs:{icon:"trash-alt",text:"Delete"},on:{click:function(t){return e.deleteTask(e.item)}}}),e._l(e.getValue(),(function(t,r){return n("Button",{key:r,staticClass:"button",attrs:{value:t},on:{clicked:function(n){return e.stateChange(t)}}})}))],2)},$=[],M=n("14aa"),B=n("5283"),I={name:"TaskDetailComponent",components:{AddressFinder:M["a"],IconTextButton:g["a"],Button:B["a"]},props:["task","stateButton"],methods:{deleteTask:function(){this.$emit("deleted",this.task)},getValue:function(){return this.stateButton(this.task)},stateChange:function(e){this.$emit("stateChange",this.task,e)},changeAddress:function(e){this.task.address=e,this.$emit("changed",this.task)}}},S=I,V=(n("384a"),Object(p["a"])(S,A,$,!1,null,"0b1b6140",null)),E=V.exports,U=n("d207"),K={name:"TasksViewComponent",components:{Grid:_["a"],InputWithButton:U["a"],SelectUserComponent:D["a"],TaskDetailComponent:E},props:["module"],data:function(){return{content:[],properties:[{name:"title",control:"textbox",main:!0},{name:"owner",control:"custom"},{name:"dueDate",control:"datepicker"},{name:"priority",control:"combobox",options:["High","Medium","Low"]},{name:"state"}]}},methods:{getData:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j["a"].getTasksByModule(this.module);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changed:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return void 0!=t.owner&&"Unassigned"==t.state&&(t.state="To Do"),void 0!=t.dueDate&&(t.dueDate=F(t.dueDate)),e.next=4,j["a"].updateTask(t);case 4:if(n=e.sent,"OK"!=n){e.next=12;break}return e.next=8,this.getData();case 8:this.content=e.sent,this.$toasted.global.success({message:"😎 Task Updated!"}),e.next=13;break;case 12:alert(n);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteClick:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j["a"].deleteTask(t);case 2:if(n=e.sent,"OK"!=n){e.next=10;break}return e.next=6,this.getData();case 6:this.content=e.sent,this.$toasted.global.success({message:"😎 Task Deleted!"}),e.next=11;break;case 10:alert(n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),txtKeyUp:function(e){13==e.keyCode&&(this.submitTask(this.$refs.txtAddTask.getValue()),this.$refs.txtAddTask.empty())},addTask:function(){var e=this.$refs.txtAddTask;this.submitTask(e.getValue()),e.empty()},submitTask:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""==t){e.next=12;break}return e.next=3,j["a"].addTask({title:t,module:this.module});case 3:if(n=e.sent,"OK"!=n){e.next=11;break}return e.next=7,this.getData();case 7:this.content=e.sent,this.$toasted.global.success({message:"😎 Task Added!"}),e.next=12;break;case 11:alert(n);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),changeState:function(e,t){"To Do"==e.state&&"Doing"==t?e.state="Doing":"Doing"==e.state&&"Review"==t?e.state="Review":"Review"==e.state&&"Fail"==t?e.state="To Do":"Review"==e.state&&"Approve"==t&&(e.state="Complete"),this.changed(e)},newStateButton:function(e){return"To Do"==e.state?["Doing"]:"Doing"==e.state?["Review"]:"Review"==e.state?["Approve","Fail"]:"Review"==e.state?["Complete"]:void 0},refresh:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getData();case 2:this.content=e.sent;case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:e.content=t.sent;case 3:case"end":return t.stop()}}),t)})))()}};function F(e){e=new Date(e);var t=e.getDate(),n=e.getMonth()+1,r=e.getFullYear(),a="".concat(r,"-").concat(n,"-").concat(t);return a}var N=K,z=(n("4f29"),Object(p["a"])(N,R,O,!1,null,"129fc573",null)),L=z.exports,W={name:"ModuleViewComponent",components:{TaskViewComponent:L,Collapsible:m,TextboxClickToEdit:v["a"],IconTextButton:g["a"],IconButton:l["a"]},data:function(){var e=this;return{modules:[],options:{dropzoneSelector:".module-container",draggableSelector:".row",showDropzoneAreas:!1,multipleDropzonesItemsDraggingEnabled:!1,onDragend:function(t){if(console.log(t),t.droptarget){var n=t.droptarget.getAttribute("aria-key"),r=t.items[0].getAttribute("aria-key");e.moveTask(r,n)}}}}},methods:{getModules:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.getAllModules();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),changed:function(e,t){e.title=t,T.updateModule(e)},changedCollapse:function(e,t){e.collapsed=!t,T.updateModule(e)},addModule:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,T.addModule("");case 2:if(t=e.sent,console.log(t),"OK"!=t){e.next=11;break}return e.next=7,this.getModules();case 7:this.modules=e.sent,this.$nextTick((function(){this.$refs["module"][this.modules.length-1].focus()})),e.next=12;break;case 11:console.log(t);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteModule:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,T.deleteModule(t);case 3:if(n=e.sent,"OK"!=n){e.next=10;break}return e.next=7,this.getModules();case 7:this.modules=e.sent,e.next=11;break;case 10:alert(n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),moveTask:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var r,a,s,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j["a"].getById(t);case 2:if(t=e.sent,t.module!=n){e.next=5;break}return e.abrupt("return");case 5:return r=t.module,t.module=n,e.next=9,j["a"].updateTask(t);case 9:a=e.sent,"OK"==a&&(s=this.$refs["module ".concat(n)][0],o=this.$refs["module ".concat(r)][0],s.refresh(),o.refresh(),this.$toasted.global.success({message:"😎 Task Moved!"}));case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getModules();case 2:e.modules=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},G=W,J=(n("9b3e"),Object(p["a"])(G,s,o,!1,null,"64cadcce",null)),H=J.exports,Y={components:{ModuleViewComponent:H}},q=Y,P=Object(p["a"])(q,r,a,!1,null,null,null);t["default"]=P.exports}}]);
//# sourceMappingURL=chunk-32978d21.483a17dd.js.map