(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4451cfdb"],{"20b9":function(e,t,n){"use strict";n("74d4")},"25e3":function(e,t,n){},"74d4":function(e,t,n){},9248:function(e,t,n){},c4cb:function(e,t,n){"use strict";n("25e3")},c66d:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ProfileComponent")},a=[],s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile-container"},[r("div",{staticClass:"headline"},[r("img",{staticClass:"avatar",attrs:{src:n("1195")}}),r("div",{staticClass:"line"}),r("div",{staticClass:"info"},[r("p",{staticClass:"user name"},[e._v(e._s(e.user.firstName+" "+e.user.lastName))]),r("a",{staticClass:"user email",attrs:{href:"mailto:"+e.user.email}},[e._v(e._s(e.user.email))])])]),r("h1",[e._v("Projects")]),e.ready?r("ProjectUsersViewComponent",{attrs:{user:e.user}}):e._e()],1)},c=[],o=(n("96cf"),n("1da1")),i=n("fe5a"),u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("Grid",{attrs:{properties:e.properties,content:e.data},scopedSlots:e._u([{key:"custom",fn:function(t){var r=t.item,a=t.value;return[n("p",[e._v(e._s(a)),r.isOwner?n("span",{staticClass:"a-color"},[e._v(" *")]):e._e()])]}},{key:"default",fn:function(t){var r=t.item;return[n("ProjectDetailComponent",{attrs:{project:r},on:{deleted:e.deleted}})]}}])})],1)},l=[],p=n("b85c"),d=n("aa24"),f=n("200e"),m=n("e8a8"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail-container"},[n("IconTextButton",{staticClass:"button",attrs:{icon:"trash-alt",text:"Delete"},on:{click:function(t){return e.deleteProject(e.item)}}})],1)},v=[],j=n("4f95"),b={name:"ProjectDetailComponent",components:{IconTextButton:j["a"]},props:["project"],methods:{deleteProject:function(){this.$emit("deleted",this.project.project.id)}}},w=b,g=(n("20b9"),n("2877")),x=Object(g["a"])(w,h,v,!1,null,"5312b2c8",null),C=x.exports,_={name:"ProjectUsersViewComponent",components:{Grid:d["a"],ProjectDetailComponent:C},props:["user"],data:function(){return{properties:[{name:"project.name",main:!0,control:"custom"},{name:"role"}],data:[]}},methods:{getData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f["a"].getByUser(t,!0);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}(),deleted:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,m["a"].deleteProject(t);case 2:if(n=e.sent,"OK"!=n){e.next=10;break}return e.next=6,this.getData(this.user.id);case 6:this.data=e.sent,this.$toasted.global.success({message:"ðŸ˜Ž Project Deleted!"}),e.next=11;break;case 10:"403"==n&&this.$toasted.global.error({message:"You don't have permission to delete this project"});case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.user;case 2:return n=t.sent,t.next=5,e.getData(n.id);case 5:e.data=t.sent,"string"==typeof e.data&&(e.data=[]),r=Object(p["a"])(e.data);try{for(r.s();!(a=r.n()).done;)s=a.value,s.isOwner=s.project.owner==n.id}catch(c){r.e(c)}finally{r.f()}case 9:case"end":return t.stop()}}),t)})))()}},P=_,k=(n("c4cb"),Object(g["a"])(P,u,l,!1,null,"3439e92b",null)),O=k.exports,y={name:"ProfileComponent",components:{ProjectUsersViewComponent:O},data:function(){return{user:{},ready:!1}},methods:{getUser:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i["a"].getSelf();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUser();case 2:e.user=t.sent,e.ready=!0;case 4:case"end":return t.stop()}}),t)})))()}},R=y,D=(n("d212"),Object(g["a"])(R,s,c,!1,null,"d5e4267c",null)),$=D.exports,U={components:{ProfileComponent:$}},E=U,B=Object(g["a"])(E,r,a,!1,null,null,null);t["default"]=B.exports},d212:function(e,t,n){"use strict";n("9248")}}]);
//# sourceMappingURL=chunk-4451cfdb.c87479bb.js.map