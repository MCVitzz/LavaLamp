(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c447cf92"],{"2c11":function(e,t,n){},"5ee4":function(e,t,n){},"6a1c":function(e,t,n){"use strict";n("7203")},7203:function(e,t,n){},"7f71":function(e,t,n){"use strict";n("5ee4")},a443:function(e,t,n){"use strict";n("e7f3")},b8f6:function(e,t,n){"use strict";n("2c11")},e7f3:function(e,t,n){},eb1f:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ModuleViewComponent")},r=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"add-button"},[n("IconTextButton",{attrs:{icon:"plus",text:"Add Module"},on:{click:e.addModule}})],1),e._l(e.modules,(function(t,a){return n("div",{key:a,staticClass:"module-container"},[n("Collapsible",{attrs:{value:!t.collapsed},on:{changed:function(n){return e.changedCollapse(t,n)}},scopedSlots:e._u([{key:"summary",fn:function(){return[n("TextboxClickToEdit",{ref:"module",refInFor:!0,staticClass:"module-title",attrs:{value:t.title},on:{changed:function(n){return e.changed(t,n)}}}),n("IconButton",{staticClass:"delete-button",attrs:{icon:"trash-alt"},on:{click:function(n){return e.deleteModule(t)}}})]},proxy:!0},{key:"details",fn:function(){return[n("TaskViewComponent",{staticClass:"tasks-container",attrs:{module:t.id}})]},proxy:!0}],null,!0)})],1)}))],2)},o=[],u=(n("96cf"),n("1da1")),c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"summary"},[n("IconButton",{staticClass:"button",attrs:{color:"white",icon:e.getIcon()},on:{click:e.toggle}}),n("div",{staticClass:"summary-item"},[e._t("summary")],2)],1),e.expanded?e._t("details"):e._e()],2)},i=[],l=n("47d0"),d={name:"Collapsible",components:{IconButton:l["a"]},props:["value"],data:function(){return{expanded:!1}},methods:{toggle:function(){this.expanded=!this.expanded,this.$emit("changed",this.expanded)},getIcon:function(){return this.expanded?"chevron-down":"chevron-right"}},created:function(){this.value&&(this.expanded=this.value)}},p=d,f=(n("a443"),n("2877")),h=Object(f["a"])(p,c,i,!1,null,"ced03058",null),m=h.exports,g=n("e93b"),k=n("4f95"),v=n("d4ec"),x=n("bee2"),b=n("bc3a"),w=n.n(b),C="/api/modules",T=function(){function e(){Object(v["a"])(this,e)}return Object(x["a"])(e,null,[{key:"getAllModules",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get(C);case 3:if(t=e.sent,n=t.data,"No Modules."==n){e.next=7;break}return e.abrupt("return",n);case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",[]);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"addModule",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.post(C,{title:t,collapsed:!0});case 3:if(n=e.sent,200!=n.status){e.next=8;break}return e.abrupt("return","OK");case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateModule",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.put("".concat(C,"/").concat(t.id),t);case 3:if(n=e.sent,200!=n.status){e.next=8;break}return e.abrupt("return","OK");case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteModule",value:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.delete("".concat(C,"/").concat(t.id));case 3:if(n=e.sent,200!=n.status){e.next=8;break}return e.abrupt("return","OK");case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));function t(t){return e.apply(this,arguments)}return t}()}]),e}(),y=T,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tasks-container"},[n("div",{staticClass:"task-list"},[n("Grid",{attrs:{properties:e.properties,content:e.content},on:{changed:e.changed},scopedSlots:e._u([{key:"custom",fn:function(e){var t=e.changedFunction,a=e.value;return[n("SelectUserComponent",{attrs:{changed:t,value:a}})]}},{key:"default",fn:function(t){var a=t.item;return[n("TaskDetailComponent",{attrs:{stateButton:e.newStateButton,task:a},on:{changed:e.changed,deleted:e.deleteClick,stateChange:e.changeState}})]}}])})],1),n("InputWithButton",{ref:"txtAddTask",staticClass:"input",attrs:{text:"Add",placeholder:"+ Add"},on:{buttonClick:e.addTask,keyUp:e.txtKeyUp}})],1)},O=[],D=(n("99af"),n("aa24")),M=n("062a"),j=n("74ce"),B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail-container"},[n("AddressFinder",{staticClass:"address-finder",attrs:{address:e.task.address},on:{changed:e.changeAddress}}),n("IconTextButton",{staticClass:"button",attrs:{icon:"trash-alt",text:"Delete"},on:{click:function(t){return e.deleteTask(e.item)}}}),e._l(e.getValue(),(function(t,a){return n("Button",{key:a,staticClass:"button",attrs:{value:t},on:{clicked:function(n){return e.stateChange(t)}}})}))],2)},$=[],_=n("14aa"),A=n("5283"),I={name:"TaskDetailComponent",components:{AddressFinder:_["a"],IconTextButton:k["a"],Button:A["a"]},props:["task","stateButton"],methods:{deleteTask:function(){this.$emit("deleted",this.task)},getValue:function(){return this.stateButton(this.task)},stateChange:function(e){this.$emit("stateChange",this.task,e)},changeAddress:function(e){this.task.address=e,this.$emit("changed",this.task)}}},K=I,V=(n("6a1c"),Object(f["a"])(K,B,$,!1,null,"0b4a9e4f",null)),S=V.exports,E=n("d207"),F={name:"TasksViewComponent",components:{Grid:D["a"],InputWithButton:E["a"],SelectUserComponent:j["a"],TaskDetailComponent:S},props:["module"],data:function(){return{content:[],properties:[{name:"title",control:"textbox",main:!0},{name:"owner",control:"custom"},{name:"dueDate",control:"datepicker"},{name:"priority",control:"combobox",options:["High","Medium","Low"]},{name:"state"}]}},methods:{getData:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].getTasksByModule(this.module);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changed:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return void 0!=t.owner&&"Unassigned"==t.state&&(t.state="To Do"),void 0!=t.dueDate&&(t.dueDate=U(t.dueDate)),e.next=4,M["a"].updateTask(t);case 4:if(n=e.sent,"OK"!=n){e.next=12;break}return e.next=8,this.getData();case 8:this.content=e.sent,this.$toasted.global.success({message:"ðŸ˜Ž Task Updated!"}),e.next=13;break;case 12:alert(n);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteClick:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,M["a"].deleteTask(t);case 2:if(n=e.sent,"OK"!=n){e.next=10;break}return e.next=6,this.getData();case 6:this.content=e.sent,this.$toasted.global.success({message:"ðŸ˜Ž Task Deleted!"}),e.next=11;break;case 10:alert(n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),txtKeyUp:function(e){13==e.keyCode&&(this.submitTask(this.$refs.txtAddTask.getValue()),this.$refs.txtAddTask.empty())},addTask:function(){var e=this.$refs.txtAddTask;this.submitTask(e.getValue()),e.empty()},submitTask:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""==t){e.next=12;break}return e.next=3,M["a"].addTask({title:t,module:this.module});case 3:if(n=e.sent,"OK"!=n){e.next=11;break}return e.next=7,this.getData();case 7:this.content=e.sent,this.$toasted.global.success({message:"ðŸ˜Ž Task Added!"}),e.next=12;break;case 11:alert(n);case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),changeState:function(e,t){"To Do"==e.state&&"Doing"==t?e.state="Doing":"Doing"==e.state&&"Review"==t?e.state="Review":"Review"==e.state&&"Fail"==t?e.state="To Do":"Review"==e.state&&"Approve"==t&&(e.state="Complete"),this.changed(e)},newStateButton:function(e){return"To Do"==e.state?["Doing"]:"Doing"==e.state?["Review"]:"Review"==e.state?["Approve","Fail"]:"Review"==e.state?["Complete"]:void 0}},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getData();case 2:e.content=t.sent;case 3:case"end":return t.stop()}}),t)})))()}};function U(e){e=new Date(e);var t=e.getDate(),n=e.getMonth()+1,a=e.getFullYear(),r="".concat(a,"-").concat(n,"-").concat(t);return r}var G=F,J=(n("7f71"),Object(f["a"])(G,R,O,!1,null,"01991ef4",null)),W=J.exports,H={name:"ModuleViewComponent",components:{TaskViewComponent:W,Collapsible:m,TextboxClickToEdit:g["a"],IconTextButton:k["a"],IconButton:l["a"]},data:function(){return{modules:[]}},methods:{getModules:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y.getAllModules();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),changed:function(e,t){e.title=t,y.updateModule(e)},changedCollapse:function(e,t){e.collapsed=!t,y.updateModule(e)},addModule:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,y.addModule("");case 2:if(t=e.sent,"OK"!=t){e.next=10;break}return e.next=6,this.getModules();case 6:this.modules=e.sent,this.$nextTick((function(){this.$refs["module"][this.modules.length-1].focus()})),e.next=11;break;case 10:console.log(t);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),deleteModule:function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,y.deleteModule(t);case 3:if(n=e.sent,"OK"!=n){e.next=10;break}return e.next=7,this.getModules();case 7:this.modules=e.sent,e.next=11;break;case 10:alert(n);case 11:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},created:function(){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getModules();case 2:e.modules=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},L=H,N=(n("b8f6"),Object(f["a"])(L,s,o,!1,null,"f6f7fd04",null)),Y=N.exports,q={components:{ModuleViewComponent:Y}},z=q,P=Object(f["a"])(z,a,r,!1,null,null,null);t["default"]=P.exports}}]);
//# sourceMappingURL=chunk-c447cf92.158a1738.js.map